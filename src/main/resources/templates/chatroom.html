<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Chat</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/malihu-custom-scrollbar-plugin/3.1.5/jquery.mCustomScrollbar.min.css">
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/malihu-custom-scrollbar-plugin/3.1.5/jquery.mCustomScrollbar.min.js"></script>
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
</head>
<body>
    <div class="container-fluid col-md-12" style="padding-bottom: 40px">
        <img th:src="@{img/1.png}" style="margin-left: 32%"; />
    </div>
<div class="container-fluid h-100">
    <div class="row justify-content-center">
        <div class="col-md-3 col-lg-3 col-xl-3 col-sm-3 col-12 chat contacts_card card">
            <div class="card-body contacts_body">
                <div style="color: white">
                    <ui class="contacts">
                        <h3 class="headers" style="text-decoration: underline; font-size: 30px; font-weight: bold;">Online Members:</h3>
                        <ul class="headers" id="connected" style="font-size: 24px">
                            <li th:each="User : ${users}" th:text="${User.userName}" ></li>
                        </ul>
                    </ui>
                </div>
            </div>
        </div>
        <div class="col-md-5 col-lg-5 col-xl-5 col-sm-5 col-12 chat card" style="position:relative">
            <div class="card-header msg_head">
                    <div class="row" style="position:relative">
                        <div class="img_cont">
                            <img src="https://static.turbosquid.com/Preview/001292/481/WV/_D.jpg" class="rounded-circle user_img">
                            <span class="online_icon"></span>
                        </div>
                        <div class="user_info">
                            <h3 class="headers"> <span th:text="'Welcome ' + ${userName}"></span> </h3>
                        </div>
                        <div style="padding: 5px 5px 5px 5px">
                            <form action="/logout" style="position:absolute; right: 5px;">
                                <input type="submit" value="Logout" class="btn btn-info sbtn" />
                            </form>
                        </div>
                    </div>

            </div>
            <div class="card-body msg_card_body">
                <div class="d-flex justify-content-start">
                    <div id="messages">
                        <div th:each="i : ${#numbers.sequence(topFiveMessages.size()-1,0,-1)}">
                            <b th:text="${topFiveMessages[i].author} +': '"></b>
                            <span th:text="${topFiveMessages[i].msg}"></span>
                        </div>
                    </div>
                </div>

                <div class="card-footer">
                    <div class="input-group">
                        <div class="input-group-append">
                            <span class="input-group-text attach_btn"></span>
                        </div>
                        <textarea id ="msg" name="" class="form-control type_msg" placeholder="Type your message..."></textarea>
                        <div class="input-group-append">
                            <span class="input-group-text send_btn"><i id="btn" class="fas fa-location-arrow"></i></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-3 col-lg-3 col-xl-3 col-sm-3 col-12 chat contacts_card card">
            <div class="card-body contacts_body">
                <div class="input-group" style="padding-bottom: 6px">
                    <input id="search" type="text" placeholder="Search..." name="" class="form-control search">
                </div>
                <div class="sbtn">
                    <a class="btn btn-info sbtn" id="findByAuthor">Find By Author</a>
                    <a class="btn btn-info sbtn" id="findByMessage">Find By Message</a>
                </div>
                <div id="sbody" style="padding-top: 15px;">
                </div>
            </div>
        </div>
    </div>
</div>


<script src="js/chatroom.js"></script>
<link th:href="@{css/chatbox.css}" rel="stylesheet"/>

</body>
</html>
